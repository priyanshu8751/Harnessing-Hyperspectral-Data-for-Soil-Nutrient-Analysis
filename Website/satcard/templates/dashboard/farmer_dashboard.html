{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <link rel="apple-touch-icon" sizes="76x76" href="./assets/img/apple-icon.png">
  <link rel="icon" type="image/png" href="./assets/img/favicon.png">
  <title>
    Farmer Dashboard
  </title>
  <link href="https://fonts.googleapis.com/css?family=Open+Sans:300,400,600,700" rel="stylesheet" />
  <!-- Nucleo Icons -->
  <link href="{% static 'farmer_assets/css/nucleo-icons.css' %}" rel="stylesheet" />
  <link href="{% static 'farmer_assets/css/nucleo-svg.css' %}" rel="stylesheet" />
  <!-- Font Awesome Icons -->
  <script src="https://kit.fontawesome.com/42d5adcbca.js" crossorigin="anonymous"></script>
  <link href="{% static 'farmer_assets/css/nucleo-svg.css' %}" rel="stylesheet" />
  <!-- CSS Files -->
  <link id="pagestyle" href="{% static 'farmer_assets/css/argon-dashboard.css' %}" rel="stylesheet" />
</head>

<body class="g-sidenav-show bg-gray-100">
  <div class="min-height-200 bg-primary position-absolute w-100"></div>
  <aside class="sidenav bg-white navbar navbar-vertical navbar-expand-xs border-0 border-radius-xl my-3 fixed-start ms-4 " id="sidenav-main" style="max-width: 16.625rem !important;">
    <div class="sidenav-header">
      <i class="fas fa-times p-3 cursor-pointer text-secondary opacity-5 position-absolute end-0 top-0 d-none d-xl-none" aria-hidden="true" id="iconSidenav"></i>
      <a class="navbar-brand m-0" href=" https://demos.creative-tim.com/argon-dashboard/pages/dashboard.html " target="_blank">
        <i class="fas fa-info-circle" style="color: green;"></i>
        <span class="ms-1 font-weight-bold">Farm Info</span>
      </a>
    </div>
    <hr class="horizontal dark mt-0">
    <div class="collapse navbar-collapse  w-auto " id="sidenav-collapse-main">
      <div class="card">
        <div class="card-body pt-4 p-3">
        <div class="d-flex flex-column">
        <h6 class="mb-3 text-sm">Srinivasan S</h6>
        <span class="mb-2 text-xs">Company Name: <span class="text-dark font-weight-bold ms-sm-2">Viking Burrito</span></span>
        <span class="mb-2 text-xs">Email Address: <span class="text-dark ms-sm-2 font-weight-bold">oliver@burrito.com</span></span>
        <span class="text-xs">VAT Number: <span class="text-dark ms-sm-2 font-weight-bold">FRB1235476</span></span>
        </div>
        </div>
      </div>
    </div>
    <div class="sidenav-footer mx-3 ">
      <div class="card card-plain shadow-none" id="sidenavCard">
      <img class="w-50 mx-auto" src="{% static 'farmer_assets/img/icon-documentation.svg' %}" alt="sidebar_illustration">
      <div class="card-body text-center p-3 w-100 pt-0">
      <div class="docs-info">
      <h6 class="mb-0">Need help?</h6>
      <p class="text-xs font-weight-bold mb-0">Please check our docs</p>
      </div>
      </div>
      </div>
      <a href="https://www.creative-tim.com/learning-lab/bootstrap/license/argon-dashboard" target="_blank" class="btn btn-dark btn-sm w-100 mb-3">Documentation</a>
      <a class="btn btn-primary btn-sm mb-0 w-100" href="https://www.creative-tim.com/product/argon-dashboard-pro?ref=sidebarfree" type="button">Upgrade to pro</a>
    </div>
  </aside>
  <main class="main-content position-relative border-radius-lg ">
    <div class="container-fluid py-4">

      <!-- Navbar -->
      <nav class="navbar navbar-main navbar-expand-lg px-0 mx-4 shadow-none border-radius-xl " id="navbarBlur" data-scroll="false" style="max-height: 30px; margin-top: -5px; margin-right: 0px !important;">
        <div class="container-fluid py-1 px-3">
          <div class="collapse navbar-collapse mt-sm-0 mt-2 me-md-0 me-sm-4" id="navbar">
            <div class="ms-md-auto pe-md-3 d-flex align-items-center">
            </div>
            <ul class="navbar-nav  justify-content-end">
              <li class="nav-item d-flex align-items-center">
                <a href="javascript:;" class="nav-link text-white font-weight-bold px-0">
                  <i class="fa fa-user me-sm-1"></i>
                </a>
              </li>
            </ul>
          </div>
        </div>
      </nav>
      <!-- End Navbar -->

      <div class="row mt-2">
        <div class="col-xl-4">
        </div>
        <div class="col-xl-8 mb-xl-0 mb-8">
           <div class="row">
            <div class="col-md-6">
              <div class="card">
                <div class="card-body p-3">
                <div class="row">
                <div class="col-8">
                <div class="numbers">
                <p class="text-sm mb-0 text-uppercase font-weight-bold">Farms</p>
                <h5 class="font-weight-bolder">
                2
                </h5>
                <p class="mb-0">
                8 acres
                </p>
                </div>
                </div>
                <div class="col-4 text-end">
                <div class="icon icon-shape bg-gradient-primary shadow-primary text-center rounded-circle">
                <i class="ni ni-money-coins text-lg opacity-10" aria-hidden="true"></i>
                </div>
                </div>
                </div>
                </div>
              </div>
            </div>
            <div class="col-md-6">
              <div class="card">
                <div class="card-header mx-4 p-3 text-center">
                  Farms
                </div>
                <div class="card-body pt-0 p-3 text-center">
                  <h5 class="mb-0">2</h5>
                </div>
              </div>
            </div>
          </div>
          <div class="row">
            <div class="col-lg-12 mb-lg-0 mb-12">
              <div class="card z-index-2 h-100">
                <!-- <div class="card-header pb-0 pt-3 bg-transparent">
                  <h6 class="text-capitalize">Farm View</h6>
                </div> -->
                <div class="card-body p-3">
                  <div class="chart">
                    <div id="crop-map" style = "height: 75vh;"></div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </main>

  <!--   Core JS Files   -->
  <script src="{% static 'farmer_assets/js/popper.min.js' %}"></script>
  <script src="{% static 'farmer_assets/js/bootstrap.min.js' %}"></script>
  <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyA8NF6A0H4_DlJT-D7IiKIeUy5Do1ZNjyM&callback=initMap" async defer></script>
  <script type="text/javascript">
    function initMap() {
      var map = new google.maps.Map(document.getElementById('crop-map'), {
        center: {lat: 10.72812, lng: 76.62102},
        zoom: 19,
        mapTypeId: google.maps.MapTypeId.SATELLITE
      });

      var polygonCoords = [
        {lat: 10.728385, lng: 76.620757},
        {lat: 10.728454, lng: 76.620993},
        {lat: 10.728307, lng: 76.621071},
        {lat: 10.728094, lng: 76.621077},    
        {lat: 10.727927, lng: 76.621134},
        {lat: 10.727836, lng: 76.620885},
        {lat: 10.727951, lng: 76.620837},
        {lat: 10.728385, lng: 76.620757}
      ];
      var areaPolygon = new google.maps.Polygon({
          paths: polygonCoords,
          strokeColor: '#bdf516',
          strokeOpacity: 0.8,
          strokeWeight: 2,
          fillColor: '#bdf516',
          fillOpacity: 0.2
        });
        areaPolygon.setMap(map);

      var polygonCoords = [
        {lat: 10.727857541161324, lng: 76.6211827787547},
        {lat: 10.727857933232894, lng: 76.6214994880657},
        {lat: 10.727598471008502, lng: 76.62151375015003},
        {lat: 10.72751861404141, lng: 76.62128095546606},    
        {lat: 10.727588647623879, lng: 76.62120450008197},
        {lat: 10.727857541161324, lng: 76.6211827787547}
      ];

      var areaPolygon = new google.maps.Polygon({
          paths: polygonCoords,
          strokeColor: '#4287f5',
          strokeOpacity: 0.8,
          strokeWeight: 2,
          fillColor: '#4287f5',
          fillOpacity: 0.2
        });
        areaPolygon.setMap(map);

      var icon = {
        url: "/static/farmer_assets/img/tomato.png",
        scaledSize: new google.maps.Size(40, 40), // scaled size
        origin: new google.maps.Point(0,0), // origin
        anchor: new google.maps.Point(0, 0) // anchor
      };

      var marker_1 = new google.maps.Marker({
        position: {lat: 10.72820, lng: 76.62090},
        map: map,
        icon: icon,
        title: "Tomato Farm"
      });

      marker_1.addListener("click", () => {
        window.location.href ="/crop?id=1";
      });

      var icon = {
        url: "/static/farmer_assets/img/green_chilli.png",
        scaledSize: new google.maps.Size(40, 40), // scaled size
        origin: new google.maps.Point(0,0), // origin
        anchor: new google.maps.Point(0, 0) // anchor
      };

      var marker_2 = new google.maps.Marker({
        position: {lat: 10.727737697621414, lng: 76.62129934076702},
        map: map,
        icon: icon,
        title: "Chilli Farm"
      });
      marker_2.addListener("click", () => {
        window.location.href ="/crop?id=2";
      });
    }
  </script>
</body>
</html>